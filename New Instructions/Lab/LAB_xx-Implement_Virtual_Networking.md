---
lab:
  title: '랩 04: 가상 네트워킹 구현'
  module: Administer Virtual Networking
---

# 랩 04 - 가상 네트워킹 구현

## 랩 요구 사항

이 랩에는 Azure 구독이 필요합니다. 가상 네트워크 및 서브넷을 만들 수 있어야 합니다. 

## 예상 소요 시간: 20분

## 랩 시나리오 

글로벌 조직은 가상 네트워크를 구현할 계획입니다. 이러한 네트워크는 미국 동부, 서유럽 및 동남 아시아에 있습니다. 즉각적인 목표는 모든 기존 리소스를 수용하는 것입니다. 그러나 조직은 성장 단계에 있으며 성장을 위한 추가 용량이 있는지 확인하려고 합니다.

**CoreServicesVnet** 가상 네트워크는 **미국 동부** 지역에 배포됩니다. 이 가상 네트워크에는 가장 많은 리소스가 있습니다. 네트워크는 VPN 연결을 통해 온-프레미스 네트워크에 연결됩니다. 이 네트워크에는 비즈니스 운영의 핵심인 웹 서비스, 데이터베이스 및 기타 시스템이 있습니다. do기본 컨트롤러 및 DNS와 같은 공유 서비스는 여기에 있습니다. 많은 양의 증가가 예상되므로 이 가상 네트워크에는 대용량 주소 공간이 필요합니다.

**ManufacturingVnet** 가상 네트워크는 조직의 제조 시설 위치와 가까운 **서유럽** 지역에 배포됩니다. 이 가상 네트워크에는 제조 시설 운영을 위한 시스템이 포함되어 있습니다. 조직은 시스템이 온도와 같은 데이터를 검색할 수 있도록 많은 수의 내부 연결된 디바이스를 예상하고 있으며 확장할 수 있는 IP 주소 공간이 필요합니다.

**ResearchVnet** 가상 네트워크는 조직의 연구/개발 팀 위치와 가까운 **동남아시아** 지역에 배포됩니다. 연구/개발 팀은 이 가상 네트워크를 사용합니다. 이 팀은 확장될 것으로 예상되지 않는 작고 안정적인 리소스 세트를 유지합니다. 또한 업무용 소수의 가상 머신을 위한 소수의 IP 주소가 필요합니다.

## 대화형 랩 시뮬레이션

이 항목에서는 **[대화형 랩 시뮬레이션](https://mslabs.cloudguides.com/guides/AZ-700%20Lab%20Simulation%20-%20Design%20and%20implement%20a%20virtual%20network%20in%20Azure)** 을 사용할 수 있습니다. 시뮬레이션을 사용하면 비슷한 시나리오를 원하는 속도로 클릭할 수 있습니다. 대화형 시뮬레이션과 호스팅된 랩 간에는 차이점이 있지만, 입증되는 핵심 개념과 아이디어는 동일합니다. Azure 구독은 필요하지 않습니다. 
## 작업

+ 작업 1: 리소스 그룹을 만듭니다.
+ 작업 2: CoreServicesVnet 가상 네트워크 및 서브넷을 만듭니다.
+ 작업 3: ManufacturingVnet 가상 네트워크 및 서브넷을 만듭니다.
+ 작업 4: ResearchVnet 가상 네트워크 및 서브넷을 만듭니다.
+ 작업 5: VNet 및 서브넷 만들기를 확인합니다.

## 아키텍처 다이어그램
![네트워크 레이아웃](../media/az104-lab04-diagram.png)

| **Virtual Network** | **지역**   | **가상 네트워크 주소 공간** | **서브넷**                | **서브넷**    |
| ------------------- | ------------ | --------------------------------- | ------------------------- | ------------- |
| CoreServicesVnet    | 미국 동부      | 10.20.0.0/16                      |                           |               |
|                     |              |                                   | GatewaySubnet             | 10.20.0.0/27  |
|                     |              |                                   | SharedServicesSubnet      | 10.20.10.0/24 |
|                     |              |                                   | DatabaseSubnet            | 10.20.20.0/24 |
|                     |              |                                   | PublicWebServiceSubnet    | 10.20.30.0/24 |
| ManufacturingVnet   | 서유럽  | 10.30.0.0/16                      |                           |               |
|                     |              |                                   | ManufacturingSystemSubnet | 10.30.10.0/24 |
|                     |              |                                   | SensorSubnet1             | 10.30.20.0/24 |
|                     |              |                                   | SensorSubnet2             | 10.30.21.0/24 |
|                     |              |                                   | SensorSubnet3             | 10.30.22.0/24 |
| ResearchVnet        |동남 아시아| 10.40.0.0/16                      |                           |               |
|                     |              |                                   | ResearchSystemSubnet      | 10.40.0.0/24  |


이러한 가상 네트워크 및 서브넷은 기존 리소스를 수용하면서도 예상된 성장을 허용하는 방식으로 구성됩니다. 이러한 가상 네트워크 및 서브넷을 만들어 네트워킹 인프라의 기반을 구축해 보겠습니다.

>**알고 계셨나요?**: IP 주소 범위가 겹치지 않도록 하여 문제를 줄이고 문제 해결을 간소화하는 것이 좋습니다. 겹치는 것은 클라우드 또는 온-프레미스에서 전체 네트워크에서 우려됩니다. 많은 조직에서 겹치지 않도록 엔터프라이즈 전체 IP 주소 지정 체계를 설계하고 향후 성장을 계획합니다.



## 작업 1: 리소스 그룹 만들기

### 이 랩의 모든 리소스에 대한 리소스 그룹을 만듭니다. 

1. **Azure Portal** - `http://portal.azure.com`에 로그인합니다.

1. 리소스 그룹을** 검색하여 선택한 **다음+ 만들기**를 선택합니다**.  

1. 이러한 설정을 사용하여 리소스 그룹을 만듭니다. 

| **Tab**         | **옵션**                                 | **값**            |
| --------------- | ------------------------------------------ | -------------------- |
| 기본 사항          | Resource group                             | `az104-rg4` |
|                 | 지역                                     | (미국) **미국 동부**     |
| 태그            | 변경 필요 없음                        |                      |
| 검토 + 만들기 | 설정을 검토하고 **만들기**를 선택합니다. |                      |


1. **리소스 그룹** 페이지를 새로 고치고 az104-rg4**가 **목록에 표시되는지 확인합니다.

## 작업 2: CoreServicesVnet 가상 네트워크 및 서브넷 만들기

조직은 핵심 서비스에 대해 많은 성장을 계획하고 있습니다. 이 작업에서는 기존 리소스 및 계획된 증가를 수용하기 위해 가상 네트워크 및 연결된 서브넷을 만듭니다.

1. Virtual Network**를 검색하고 선택합니다**.

    ![가상 네트워크에 대한 Azure Portal 홈페이지 전역 검색 표시줄 결과](../media/az104-lab04-vnet-search.png)

1. 가상 네트워크 페이지에서 **만들기**를 선택합니다.  

    ![네트워크 만들기 마법사](../media/az104-lab04-createvnet.png)

3. 다음 표의 정보를 사용하여 CoreServicesVnet 가상 네트워크를 만듭니다.  

| **Tab**      | **옵션**         | **값**            |
| ------------ | ------------------ | -------------------- |
| 기본 사항       | 리소스 그룹     | **az104-rg1** |
|              | 이름               | `CoreServicesVnet`     |
|              | 지역             | (미국) **미국 동부**         |
| IP 주소 | IPv4 주소 공간 | `10.20.0.0/16`         |

    >**Note:** Remove or overwrite the default IP Address space.
    
![Azure 가상 네트워크 배포를 위한 IP 주소 구성](../media/az104-lab04-address-space.png)

 4. CoreServicesVnet 서브넷을 만듭니다. 각 서브넷 만들기를 시작하려면 **+ 서브넷 추가**를 선택합니다. 각 서브넷 만들기를 마치려면 **추가**를 선택합니다.

| **서브넷**             | **옵션**           | **값**              |
| ---------------------- | -------------------- | ---------------------- |
| GatewaySubnet          | 서브넷 이름          | `GatewaySubnet`          |
|                        | 서브넷 주소 범위 | `10.20.0.0/27`           |
| SharedServicesSubnet   | 서브넷 이름          | `SharedServicesSubnet`   |
|                        | 서브넷 주소 범위 | `10.20.10.0/24`          |
| DatabaseSubnet         | 서브넷 이름          | `DatabaseSubnet`         |
|                        | 서브넷 주소 범위 | `10.20.20.0/24  `        |
| PublicWebServiceSubnet | 서브넷 이름          | `PublicWebServiceSubnet` |
|                        | 서브넷 주소 범위 | `10.20.30.0/24`          |

 1. CoreServicesVnet 및 연결된 서브넷 만들기를 마치려면 **검토 + 만들기**를 선택합니다.

 1. 구성이 유효성 검사를 통과했는지 확인한 다음 **만들기**를 선택합니다.
 
## 작업 3: ManufacturingVnet 가상 네트워크 및 서브넷 만들기

이 작업에서는 추가 가상 네트워크 및 연결된 서브넷을 계속 만듭니다. 이 조직은 제조 사무소의 성장을 예상하므로 서브넷의 크기는 예상 증가에 적합합니다.

    >**Note**: If you need help, use the detailed steps in Task 2. 

| **Tab**      | **옵션**         | **값**             |
| ------------ | ------------------ | --------------------- |
| 기본 사항       | 리소스 그룹     | **az104-rg1**  |
|              | 이름               | `ManufacturingVnet`     |
|              | 지역             | (유럽) **서유럽**  |
| IP 주소 | IPv4 주소 공간 | `10.30.0.0/16`          |



| **서브넷**                | **옵션**           | **값**                 |
| ------------------------- | -------------------- | ------------------------- |
| ManufacturingSystemSubnet | 서브넷 이름          | `ManufacturingSystemSubnet` |
|                           | 서브넷 주소 범위 | `10.30.10.0/24`             |
| SensorSubnet1             | 서브넷 이름          | `SensorSubnet1`             |
|                           | 서브넷 주소 범위 | `10.30.20.0/24`             |
| SensorSubnet2             | 서브넷 이름          | `SensorSubnet2`             |
|                           | 서브넷 주소 범위 | `10.30.21.0/24`             |
| SensorSubnet3             | 서브넷 이름          | `SensorSubnet3`             |
|                           | 서브넷 주소 범위 | `10.30.22.0/24`             |
 

## 작업 4: ResearchVnet 가상 네트워크 및 서브넷 만들기

이 작업에서는 최종 가상 네트워크 및 연결된 서브넷을 만듭니다. 조직은 성장을 계획하지 않으며 연구 개발 사무소에 대한 요구가 제한되어 있습니다.

>**참고**: 도움이 필요한 경우 작업 2의 자세한 단계를 사용합니다. 

| **Tab**      | **옵션**         | **값**            |
| ------------ | ------------------ | -------------------- |
| 기본 사항       | 리소스 그룹     | **az104-rg1** |
|              | 이름               | `ResearchVnet`         |
|              | 지역             | **동남 아시아**       |
| IP 주소 | IPv4 주소 공간 | `10.40.0.0/16`         |

| **서브넷**           | **옵션**           | **값**            |
| -------------------- | -------------------- | -------------------- |
| ResearchSystemSubnet | 서브넷 이름          | `ResearchSystemSubnet` |
|                      | 서브넷 주소 범위 | `10.40.0.0/24 `        |
 

## 작업 5: VNet 및 서브넷 만들기 확인

이 작업에서는 조직의 요구 사항을 충족하는 데 필요한 모든 가상 네트워크 및 서브넷이 있는지 확인합니다.

1. Azure Portal 홈페이지에서 모든 리소스**를 검색하고 선택합니다**.

2. CoreServicesVnet, ManufacturingVnet 및 ResearchVnet이 표시되는지 확인합니다.

3. **CoreServicesVnet**을 선택합니다. 

4. CoreServicesVnet의 **설정**에서 **서브넷**을 선택합니다.

5. CoreServicesVnet | 서브넷에서, 만든 서브넷이 나열되고 IP 주소 범위가 맞는지 확인합니다.

   ![CoreServicesVnet의 서브넷 목록](../media/az104-lab04-subnets.png)

6. 각 VNet에 대해 3-5단계를 반복합니다. 가상 네트워크 선택을 변경하여 모두 확인해야 합니다.

## 검토

축하합니다! 리소스 그룹, 3개의 가상 네트워크 및 연결된 서브넷을 성공적으로 만들었습니다.
